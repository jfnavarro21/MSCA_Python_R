---
title: "Assignment7Navarro"
author: "John Navarro"
date: "May 26, 2017"
output: pdf_document
---

```{r}
# read in the dataset
cmes.df <- read.csv("C:/Users/JohntheGreat/Documents/MSCA/TimeSeries/Week7_StateSpace_VARMA/cmeS.csv", header=TRUE, sep=",")
head(cmes.df)
colnames(cmes.df)
cmes.df$Month[1:3]

monthly.cmes.df <- data.frame(matrix(ncol=3, nrow = 156))
colnames(monthly.cmes.df) <- c("Year", "Month", "price")

# Fill row of monthly.cmes.df
monthly.cmes.df$Year[1] = 2001
monthly.cmes.df$Month[1] = 1 
monthly.cmes.df$price[1] = mean(subset(cmes.df, Month == 1 & Year == 2001)$price)
head(monthly.cmes.df)

monthly.cmes.df$Year[4] = 2001
monthly.cmes.df$Month[4] = 4 
monthly.cmes.df$price[4] = mean(subset(cmes.df, Month ==4 & Year == 2001)$price)
head(monthly.cmes.df, 12)


# looping through 1:12 months only for year 2001
# if month = month from first df, then fill in row
# else if month != month, gives error because the month doesnt exist
# integer(0)
for (month in 1:12){
  if (cmes.df$Year == 2001){
    if(month == (subset(cmes.df, Month == month & Year==2001))$Month){
      monthly.cmes.df$price[month] = mean(subset(cmes.df, Month == month & Year == 2001)$price)
      monthly.cmes.df$Month[month] = month
      monthly.cmes.df$Year[month] = 2001
    
    }
    else {
      monthly.cmes.df$price[month] <- monthly.cmes.df$price[month-1]
      monthly.cmes.df$Month[month] = month
      monthly.cmes.df$Year[month] = 2001
    }
    
  }  
}
head(monthly.cmes.df, 12)



# try a different way
cmes.df <- read.csv("C:/Users/JohntheGreat/Documents/MSCA/TimeSeries/Week7_StateSpace_VARMA/cmeS.csv", header=TRUE, sep=",")

for (month in 1:12){
  if (cmes.df$Year == 2002){
    if (month == cmes.df$Month[month]){
      print("month is there")
    }
      else if (month < cmes.df$Month[month]){
        newrow <- c(NA, 2002, month, 300, 1)
        cmes.df <- rbind(cmes.df[1:month-1,],newrow, cmes.df[-(1:month-1),])
      }
      else if (month > cmes.df$Month[month]){
        newrow <- c(NA, 2002, month, 400, 1)
        cmes.df <- rbind(cmes.df[1:month-1,],newrow, cmes.df[-(1:month-1),])
      }
  }
}
head(cmes.df,13)
```

